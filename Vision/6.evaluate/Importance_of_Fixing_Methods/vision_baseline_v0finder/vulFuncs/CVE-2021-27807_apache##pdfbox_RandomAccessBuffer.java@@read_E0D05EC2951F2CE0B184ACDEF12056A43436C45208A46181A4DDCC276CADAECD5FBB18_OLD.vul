checkclosed();if(pointer>=size)return0;intbytesread=readremainingbytes(b,offset,length);while(bytesread<length&&available()>0)bytesread+=readremainingbytes(b,offset+bytesread,length-bytesread);if(currentbufferpointer==chunksize)nextbuffer();returnbytesread;