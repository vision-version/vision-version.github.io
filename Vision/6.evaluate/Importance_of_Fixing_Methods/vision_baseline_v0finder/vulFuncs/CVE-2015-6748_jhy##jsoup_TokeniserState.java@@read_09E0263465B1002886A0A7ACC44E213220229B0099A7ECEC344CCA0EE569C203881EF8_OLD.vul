charc=r.current();switch(c)case'-':t.advancetransition(commentenddash);break;casenullchar:t.error(this);r.advance();t.commentpending.data.append(replacementchar);break;caseeof:t.eoferror(this);t.emitcommentpending();t.transition(data);break;default:t.commentpending.data.append(r.consumetoany('-',nullchar));