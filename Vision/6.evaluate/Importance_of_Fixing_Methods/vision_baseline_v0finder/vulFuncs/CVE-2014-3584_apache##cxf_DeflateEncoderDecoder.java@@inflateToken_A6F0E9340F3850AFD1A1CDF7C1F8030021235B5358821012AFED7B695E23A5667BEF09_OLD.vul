inflaterinflater=newinflater(true);inflater.setinput(deflatedtoken);byte[]input=newbyte[deflatedtoken.length*2];intinflatedlen=0;intinputlen=0;byte[]inflatedtoken=input;while(!inflater.finished())inputlen=inflater.inflate(input);if(!inflater.finished())inflatedtoken=newbyte[input.length+inflatedlen];system.arraycopy(input,0,inflatedtoken,inflatedlen,inputlen);inflatedlen+=inputlen;inputstreamis=newbytearrayinputstream(input,0,inputlen);if(inflatedtoken!=input)is=newsequenceinputstream(newbytearrayinputstream(inflatedtoken,0,inflatedlen),is);returnis;