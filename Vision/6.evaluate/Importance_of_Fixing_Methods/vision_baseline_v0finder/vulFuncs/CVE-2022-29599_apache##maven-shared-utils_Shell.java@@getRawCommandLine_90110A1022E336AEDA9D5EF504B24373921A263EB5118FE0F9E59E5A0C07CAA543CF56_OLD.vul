list<string>commandline=newarraylist<string>();stringbuildersb=newstringbuilder();if(executableparameter!=null)stringpreamble=getexecutionpreamble();if(preamble!=null)sb.append(preamble);if(isquotedexecutableenabled())char[]escapechars=getescapechars(issinglequotedexecutableescaped(),isdoublequotedexecutableescaped());sb.append(stringutils.quoteandescape(getexecutable(),getexecutablequotedelimiter(),escapechars,getquotingtriggerchars(),'\\',false));elsesb.append(getexecutable());for(stringargument:argumentsparameter)if(sb.length()>0)sb.append('');if(isquotedargumentsenabled())char[]escapechars=getescapechars(issinglequotedargumentescaped(),isdoublequotedargumentescaped());sb.append(stringutils.quoteandescape(argument,getargumentquotedelimiter(),escapechars,getquotingtriggerchars(),'\\',false));elsesb.append(argument);commandline.add(sb.tostring());returncommandline;