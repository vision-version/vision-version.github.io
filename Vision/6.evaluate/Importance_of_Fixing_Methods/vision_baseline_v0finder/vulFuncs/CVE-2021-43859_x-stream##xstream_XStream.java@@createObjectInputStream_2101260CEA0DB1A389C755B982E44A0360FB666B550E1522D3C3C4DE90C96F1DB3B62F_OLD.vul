returnnewcustomobjectinputstream(newcustomobjectinputstream.streamcallback()publicobjectreadfromstream()throwseofexceptionif(!reader.hasmorechildren())throwneweofexception();reader.movedown();finalobjectresult=unmarshal(reader,null,dataholder);reader.moveup();returnresult;publicmapreadfieldsfromstream()throwsioexceptionthrownewnotactiveexception("notincalltoreadobject");publicvoiddefaultreadobject()throwsnotactiveexceptionthrownewnotactiveexception("notincalltoreadobject");publicvoidregistervalidation(objectinputvalidationvalidation,intpriority)throwsnotactiveexceptionthrownewnotactiveexception("streaminactive");publicvoidclose()reader.close();,classloaderreference);