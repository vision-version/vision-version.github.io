finalintlength=sb.length();intnamestart;intnameend;intcolonend;intvaluestart;intvalueend;namestart=findnonwhitespace(sb,0,false);for(nameend=namestart;nameend<length;nameend++)charch=sb.charatunsafe(nameend);if(ch==':'||(!isdecodingrequest()&&isows(ch)))break;if(nameend==length)thrownewillegalargumentexception("nocolonfound");for(colonend=nameend;colonend<length;colonend++)if(sb.charatunsafe(colonend)==':')colonend++;break;name=sb.substringunsafe(namestart,nameend);valuestart=findnonwhitespace(sb,colonend,true);if(valuestart==length)value=empty_value;elsevalueend=findendofstring(sb);value=sb.substringunsafe(valuestart,valueend);