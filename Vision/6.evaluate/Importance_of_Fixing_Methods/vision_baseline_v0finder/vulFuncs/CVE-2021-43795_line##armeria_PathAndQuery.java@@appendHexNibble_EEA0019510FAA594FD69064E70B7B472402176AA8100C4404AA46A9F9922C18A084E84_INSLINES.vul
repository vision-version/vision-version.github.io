    private static String slowEncodeQueryToPercents(Bytes value) {
        final int length = value.length;
        final StringBuilder buf = new StringBuilder(length + value.numEncodedBytes() * 2);
        for (int i = 0; i < length; i++) {
            final int b = value.data[i] & 0xFF;

            if (value.isEncoded(i)) {
                if (b == ' ') {
                    buf.append('+');
                    buf.append(TO_PERCENT_ENCODED_CHARS[b]);
                }
                continue;
            }

            buf.append((char) b);

        return buf.toString();
