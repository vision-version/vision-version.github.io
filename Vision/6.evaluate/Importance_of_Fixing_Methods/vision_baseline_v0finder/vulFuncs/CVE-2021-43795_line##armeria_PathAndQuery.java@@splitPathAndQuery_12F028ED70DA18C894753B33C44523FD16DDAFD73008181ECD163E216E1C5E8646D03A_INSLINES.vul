        if (path.data[0] != '/' || path.isEncoded(0)) {
        if (pathContainsDoubleDots(path) || queryContainsDoubleDots(query)) {
        return new PathAndQuery(encodePathToPercents(path), encodeQueryToPercents(query));
