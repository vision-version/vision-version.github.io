byte[]bytes=newbyte[length];intoff=0;intlen=length;while(len>0)intn=this.read(bytes,off,len);if(n>0)off+=n;len-=n;elsebreak;returnbytes;