if(!path.startswith(stringpool.slash))path=stringpool.slash+path;tryfinalintfragmentindex=path.indexof('#');if(path.indexof('#')!=-1)this.fragment=urlencoder.encode(path.substring(fragmentindex+1),standardcharsets.utf_8.name());path=path.substring(0,fragmentindex);finalintndx=path.indexof('?');if(ndx!=-1)finalstringquerystring=path.substring(ndx+1);path=urlencoder.encode(path.substring(0,ndx),standardcharsets.utf_8.name());query=httputil.parsequery(querystring,true);elsequery=httpmultimap.newcaseinsensitivemap();this.path=urlencoder.encode(path,standardcharsets.utf_8.name());;catch(unsupportedencodingexceptione)returnnull;returnthis;