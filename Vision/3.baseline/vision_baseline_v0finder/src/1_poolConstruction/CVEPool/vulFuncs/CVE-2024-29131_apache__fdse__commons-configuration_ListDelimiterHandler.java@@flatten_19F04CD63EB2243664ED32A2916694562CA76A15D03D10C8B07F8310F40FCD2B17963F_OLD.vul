if(valueinstanceofstring)returnsplit((string)value,true);finalcollection<object>result=newlinkedlist<>();if(valueinstanceofiterable)abstractlistdelimiterhandler.flatteniterator(this,result,((iterable<?>)value).iterator(),limit);elseif(valueinstanceofiterator)abstractlistdelimiterhandler.flatteniterator(this,result,(iterator<?>)value,limit);elseif(value!=null)if(value.getclass().isarray())for(intlen=array.getlength(value),idx=0,size=0;idx<len&&size<limit;idx++,size=result.size())result.addall(flatten(array.get(value,idx),limit-size));elseresult.add(value);returnresult;