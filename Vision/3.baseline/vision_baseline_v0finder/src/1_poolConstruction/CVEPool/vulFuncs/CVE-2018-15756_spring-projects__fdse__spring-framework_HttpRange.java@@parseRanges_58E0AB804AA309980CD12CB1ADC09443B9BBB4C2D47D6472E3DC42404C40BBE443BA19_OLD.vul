if(!stringutils.haslength(ranges))returncollections.emptylist();if(!ranges.startswith(byte_range_prefix))thrownewillegalargumentexception("range'"+ranges+"'doesnotstartwith'bytes='");ranges=ranges.substring(byte_range_prefix.length());string[]tokens=stringutils.tokenizetostringarray(ranges,",");list<httprange>result=newarraylist<>(tokens.length);for(stringtoken:tokens)result.add(parserange(token));returnresult;