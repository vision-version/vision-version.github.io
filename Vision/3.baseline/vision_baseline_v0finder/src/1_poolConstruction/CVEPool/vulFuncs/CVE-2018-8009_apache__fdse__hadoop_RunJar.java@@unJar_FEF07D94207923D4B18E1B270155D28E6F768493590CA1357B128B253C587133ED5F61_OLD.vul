try(jarfilejar=newjarfile(jarfile))intnumoffailedlastmodifiedset=0;enumeration<jarentry>entries=jar.entries();while(entries.hasmoreelements())finaljarentryentry=entries.nextelement();if(!entry.isdirectory()&&unpackregex.matcher(entry.getname()).matches())try(inputstreamin=jar.getinputstream(entry))filefile=newfile(todir,entry.getname());ensuredirectory(file.getparentfile());try(outputstreamout=newfileoutputstream(file))ioutils.copybytes(in,out,buffer_size);if(!file.setlastmodified(entry.gettime()))numoffailedlastmodifiedset++;if(numoffailedlastmodifiedset>0)log.warn("couldnotsetlastmodfiedtimeforfile(s)",numoffailedlastmodifiedset);