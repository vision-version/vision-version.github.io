            if (uri.getHost() == null) { // normal parse failed; let's do it ourselves
                if (uri.getAuthority() != null) {
                    String content = uri.getAuthority();
                    int at = content.indexOf('@');
                    if (at != -1) {
                        content = content.substring(at + 1);
                    final String scheme = uri.getScheme();
                    final String hostname;
                    final int port;
                    at = content.indexOf(":");
                    if (at != -1) {
                        hostname = content.substring(0, at);
                            final String portText = content.substring(at + 1);
                            port = !TextUtils.isEmpty(portText) ? Integer.parseInt(portText) : -1;
                            return null;
                    } else {
                        hostname = content;
                        port = -1;
                        return new HttpHost(hostname, port, scheme);
                    } catch (final IllegalArgumentException ex) {
                        return null;
                    }
            } else {
                return new HttpHost(uri.getHost(), uri.getPort(), uri.getScheme());
        return null;
