    public byte[] readFully(int len) throws IOException
        byte[] b = new byte[len];

        int n = 0;
            int count = read(b, n, len - n);
            n += count;
        } while (n < len);

        return b;
