        if (path.data[0] != '/') {
        if (pathContainsDoubleDots(path)) {
        return new PathAndQuery(encodeToPercents(path, true),
                                query != null ? encodeToPercents(query, false) : null);
