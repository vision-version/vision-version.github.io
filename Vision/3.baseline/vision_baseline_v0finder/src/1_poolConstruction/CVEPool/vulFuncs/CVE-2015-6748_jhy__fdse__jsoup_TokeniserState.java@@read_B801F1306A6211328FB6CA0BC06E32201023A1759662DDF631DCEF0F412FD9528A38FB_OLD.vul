stringvalue=r.consumetoany('\t','\n','\r','\f','','&','>',nullchar,'"','\'','<','=','`');if(value.length()>0)t.tagpending.appendattributevalue(value);charc=r.consume();switch(c)case'\t':case'\n':case'\r':case'\f':case'':t.transition(beforeattributename);break;case'&':char[]ref=t.consumecharacterreference('>',true);if(ref!=null)t.tagpending.appendattributevalue(ref);elset.tagpending.appendattributevalue('&');break;case'>':t.emittagpending();t.transition(data);break;casenullchar:t.error(this);t.tagpending.appendattributevalue(replacementchar);break;caseeof:t.eoferror(this);t.transition(data);break;case'"':case'\'':case'<':case'=':case'`':t.error(this);t.tagpending.appendattributevalue(c);break;