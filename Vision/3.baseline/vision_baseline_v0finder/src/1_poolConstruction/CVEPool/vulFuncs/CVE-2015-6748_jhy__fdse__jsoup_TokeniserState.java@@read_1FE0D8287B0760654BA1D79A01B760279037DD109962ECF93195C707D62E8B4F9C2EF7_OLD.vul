charc=r.current();switch(c)case'-':t.emit(c);t.advancetransition(scriptdatadoubleescapeddash);break;case'<':t.emit(c);t.advancetransition(scriptdatadoubleescapedlessthansign);break;casenullchar:t.error(this);r.advance();t.emit(replacementchar);break;caseeof:t.eoferror(this);t.transition(data);break;default:stringdata=r.consumetoany('-','<',nullchar);t.emit(data);