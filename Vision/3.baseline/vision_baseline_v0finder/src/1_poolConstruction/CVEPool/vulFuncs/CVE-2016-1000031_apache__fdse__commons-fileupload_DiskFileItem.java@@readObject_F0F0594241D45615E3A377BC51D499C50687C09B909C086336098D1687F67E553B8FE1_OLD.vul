in.defaultreadobject();if(repository!=null)if(repository.isdirectory())if(repository.getpath().contains("\0"))thrownewioexception(format("therepository[%s]containsanullcharacter",repository.getpath()));elsethrownewioexception(format("therepository[%s]isnotadirectory",repository.getabsolutepath()));outputstreamoutput=getoutputstream();if(cachedcontent!=null)output.write(cachedcontent);elsefileinputstreaminput=newfileinputstream(dfosfile);ioutils.copy(input,output);dfosfile.delete();dfosfile=null;output.close();cachedcontent=null;