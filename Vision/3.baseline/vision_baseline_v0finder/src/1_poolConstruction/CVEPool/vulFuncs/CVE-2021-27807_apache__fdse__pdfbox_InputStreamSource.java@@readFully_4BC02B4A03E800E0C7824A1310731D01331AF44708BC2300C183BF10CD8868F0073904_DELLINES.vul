        int off = 0;
        int len = length;
        while (len > 0)
            int n = this.read(bytes, off, len);
            if (n > 0)
                off += n;
                len -= n;
            }
            else
            {
                break;
            }
