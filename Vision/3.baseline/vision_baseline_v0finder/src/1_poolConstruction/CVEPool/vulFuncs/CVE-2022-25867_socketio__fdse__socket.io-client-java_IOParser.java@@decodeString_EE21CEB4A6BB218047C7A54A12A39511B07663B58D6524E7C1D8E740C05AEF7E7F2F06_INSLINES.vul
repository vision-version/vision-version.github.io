                if (!isPayloadValid(p.type, p.data)) {
                    throw new DecodingException("invalid payload");
                }
