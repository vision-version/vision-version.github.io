assert.istrue(resource.getclass()!=inputstreamresource.class,"cannotconvertaninputstreamresourcetoaresourceregion");trylongcontentlength=resource.contentlength();assert.istrue(contentlength>0,"resourcecontentlengthshouldbe>0");longstart=getrangestart(contentlength);longend=getrangeend(contentlength);returnnewresourceregion(resource,start,end-start+1);catch(ioexceptionex)thrownewillegalargumentexception("failedtoconvertresourcetoresourceregion",ex);