stringvalue=r.consumetoanysorted(attributedoublevaluecharssorted);if(value.length()>0)t.tagpending.appendattributevalue(value);charc=r.consume();switch(c)case'"':t.transition(afterattributevalue_quoted);break;case'&':char[]ref=t.consumecharacterreference('"',true);if(ref!=null)t.tagpending.appendattributevalue(ref);elset.tagpending.appendattributevalue('&');break;casenullchar:t.error(this);t.tagpending.appendattributevalue(replacementchar);break;caseeof:t.eoferror(this);t.transition(data);break;