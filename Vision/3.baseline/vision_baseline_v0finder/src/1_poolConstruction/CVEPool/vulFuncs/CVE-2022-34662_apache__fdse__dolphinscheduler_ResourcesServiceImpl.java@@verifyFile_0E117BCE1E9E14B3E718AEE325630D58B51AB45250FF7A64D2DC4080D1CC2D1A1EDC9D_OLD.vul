result<object>result=newresult<>();putmsg(result,status.success);if(file!=null)if(file.isempty())logger.error("fileisempty:",regexutils.escapenrt(file.getoriginalfilename()));putmsg(result,status.resource_file_is_empty);returnresult;stringfilesuffix=files.getfileextension(file.getoriginalfilename());stringnamesuffix=files.getfileextension(name);if(!(stringutils.isnotempty(filesuffix)&&filesuffix.equalsignorecase(namesuffix)))logger.error("renamefilesuffixandoriginalsuffixmustbeconsistent:",regexutils.escapenrt(file.getoriginalfilename()));putmsg(result,status.resource_suffix_forbid_change);returnresult;if(constants.udf.equals(type.name())&&!jar.equalsignorecase(filesuffix))logger.error(status.udf_resource_suffix_not_jar.getmsg());putmsg(result,status.udf_resource_suffix_not_jar);returnresult;if(file.getsize()>constants.max_file_size)logger.error("filesizeistoolarge:",regexutils.escapenrt(file.getoriginalfilename()));putmsg(result,status.resource_size_exceed_limit);returnresult;returnresult;