if(current.hasdatadescriptor)if(laststoredentry==null)readstoredentry();returnlaststoredentry.read(buffer,offset,length);finallongcsize=current.entry.getsize();if(current.bytesread>=csize)return-1;if(buf.position()>=buf.limit())buf.position(0);finalintl=in.read(buf.array());if(l==-1)return-1;buf.limit(l);count(l);current.bytesreadfromstream+=l;inttoread=math.min(buf.remaining(),length);if((csize-current.bytesread)<toread)toread=(int)(csize-current.bytesread);buf.get(buffer,offset,toread);current.bytesread+=toread;returntoread;