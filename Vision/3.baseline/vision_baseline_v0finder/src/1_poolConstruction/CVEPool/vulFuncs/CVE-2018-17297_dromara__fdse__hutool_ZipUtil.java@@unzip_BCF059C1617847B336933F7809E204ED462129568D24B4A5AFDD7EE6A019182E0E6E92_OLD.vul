charset=(null==charset)?default_charset:charset;zipfilezipfileobj=null;tryzipfileobj=newzipfile(zipfile,charset);finalenumeration<zipentry>em=(enumeration<zipentry>)zipfileobj.entries();zipentryzipentry=null;fileoutitemfile=null;while(em.hasmoreelements())zipentry=em.nextelement();outitemfile=newfile(outfile,zipentry.getname());if(zipentry.isdirectory())outitemfile.mkdirs();elsefileutil.touch(outitemfile);copy(zipfileobj,zipentry,outitemfile);catch(ioexceptione)thrownewutilexception(e);finallyioutil.close(zipfileobj);returnoutfile;