userdetailsloadeduser;tryloadeduser=this.getuserdetailsservice().loaduserbyusername(username);catch(dataaccessexceptionrepositoryproblem)thrownewauthenticationserviceexception(repositoryproblem.getmessage(),repositoryproblem);if(loadeduser==null)thrownewauthenticationserviceexception("userdetailsservicereturnednull,whichisaninterfacecontractviolation");returnloadeduser;