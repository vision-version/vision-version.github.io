securitycheck(base);pathcurrentfolder=loggingpath(base);list<fileentry>files=getfileprovider(currentfolder).getfileentries(currentfolder);list<fileentry>sortedfiles=sortfiles(files,sortby,desc);model.addattribute("sortby",sortby);model.addattribute("desc",desc);model.addattribute("files",sortedfiles);model.addattribute("currentfolder",currentfolder.toabsolutepath().tostring());model.addattribute("base",base!=null?urlencoder.encode(base,"utf-8"):"");model.addattribute("parent",getparent(currentfolder));model.addattribute("stylesheets",stylesheets);returnfreemarkertemplateutils.processtemplateintostring(freemarkerconfig.gettemplate("logview.ftl"),model);