charc=r.consume();switch(c)case'>':t.emitcommentpending();t.transition(data);break;casenullchar:t.error(this);t.commentpending.data.append("--").append(replacementchar);t.transition(comment);break;case'!':t.error(this);t.transition(commentendbang);break;case'-':t.error(this);t.commentpending.data.append('-');break;caseeof:t.eoferror(this);t.emitcommentpending();t.transition(data);break;default:t.error(this);t.commentpending.data.append("--").append(c);t.transition(comment);