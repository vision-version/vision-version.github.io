diff --git a/./github_diff/CVE-2021-44832/oldfiles/AbstractManager.java b/./github_diff/CVE-2021-44832/newfiles/AbstractManager.java
index 589c484..bac7ed4 100644
--- a/./github_diff/CVE-2021-44832/oldfiles/AbstractManager.java
+++ b/./github_diff/CVE-2021-44832/newfiles/AbstractManager.java
@@ -1,6 +1,7 @@
 package org.apache.logging.log4j.core.appender;
 import java.util.HashMap;
 import java.util.Map;
+import java.util.Objects;
 import java.util.concurrent.TimeUnit;
 import java.util.concurrent.locks.Lock;
 import java.util.concurrent.locks.ReentrantLock;
@@ -55,7 +56,7 @@ public abstract class AbstractManager implements AutoCloseable {
             @SuppressWarnings("unchecked")
             M manager = (M) MAP.get(name);
             if (manager == null) {
-                manager = factory.createManager(name, data);
+                manager = Objects.requireNonNull(factory, "factory").createManager(name, data);
                 if (manager == null) {
                     throw new IllegalStateException("ManagerFactory [" + factory + "] unable to create manager for [" + name + "] with data [" + data + "]");
                 }
