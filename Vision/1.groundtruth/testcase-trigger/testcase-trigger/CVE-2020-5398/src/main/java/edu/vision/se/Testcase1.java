package edu.vision.se;

import static org.junit.Assert.assertEquals;

import java.util.function.BiConsumer;
import static org.springframework.http.ContentDisposition.builder;

import org.junit.Test;

public class Testcase1 {
    @Test
    public void formatWithFilenameWithQuotes() {

        BiConsumer<String, String> tester = (input, output) -> {
            assertEquals("form-data; filename=\"" + output + "\"",
                    builder("form-data").filename(input).build().toString());
        };

        String filename = "\"foo.txt";
        tester.accept(filename, "\\" + filename);

        filename = "\\\"foo.txt";
        tester.accept(filename, filename);

        filename = "\\\\\"foo.txt";
        tester.accept(filename, "\\" + filename);

        filename = "\\\\\\\"foo.txt";
        tester.accept(filename, filename);

        filename = "\\\\\\\\\"foo.txt";
        tester.accept(filename, "\\" + filename);

        tester.accept("\"\"foo.txt", "\\\"\\\"foo.txt");
        tester.accept("\"\"\"foo.txt", "\\\"\\\"\\\"foo.txt");
    }
}