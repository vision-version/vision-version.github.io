
package edu.vision.se;

import org.apache.maven.shared.utils.cli.shell.BourneShell;
import org.apache.maven.shared.utils.cli.shell.Shell;
import org.junit.Test;

import java.util.List;

import static org.junit.Assert.assertEquals;

public class Testcase6 {

    @Test(timeout = 60000)
    public void testAddArgumentWithSingleQuote() {
        Shell sh = new BourneShell();

        sh.setWorkingDirectory("/usr/bin");
        sh.setExecutable("chmod");

        String[] args = {"arg'withquote"};

        List<String> shellCommandLine = sh.getShellCommandLine(args);
        validateReturnValue(shellCommandLine);
    }

    public void validateReturnValue(List<String> shellCommandLine) {
        assertEquals("cd '/usr/bin' && 'chmod' 'arg'\"'\"'withquote'", shellCommandLine.get(shellCommandLine.size() - 1));
    }

}